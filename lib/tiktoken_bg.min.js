/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /npm/tiktoken@1.0.22/lite/tiktoken_bg.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
let wasm;export function __wbg_set_wasm(e){wasm=e}const lTextDecoder="undefined"==typeof TextDecoder?(0,module.require)("util").TextDecoder:TextDecoder;let cachedTextDecoder=new lTextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});cachedTextDecoder.decode();let cachedUint8ArrayMemory0=null;function getUint8ArrayMemory0(){return null!==cachedUint8ArrayMemory0&&0!==cachedUint8ArrayMemory0.byteLength||(cachedUint8ArrayMemory0=new Uint8Array(wasm.memory.buffer)),cachedUint8ArrayMemory0}function getStringFromWasm0(e,t){return e>>>=0,cachedTextDecoder.decode(getUint8ArrayMemory0().subarray(e,e+t))}const heap=new Array(128).fill(void 0);heap.push(void 0,null,!0,!1);let heap_next=heap.length;function addHeapObject(e){heap_next===heap.length&&heap.push(heap.length+1);const t=heap_next;return heap_next=heap[t],heap[t]=e,t}function handleError(e,t){try{return e.apply(this,t)}catch(e){wasm.__wbindgen_export_0(addHeapObject(e))}}function getObject(e){return heap[e]}function dropObject(e){e<132||(heap[e]=heap_next,heap_next=e)}function takeObject(e){const t=getObject(e);return dropObject(e),t}let WASM_VECTOR_LEN=0;const lTextEncoder="undefined"==typeof TextEncoder?(0,module.require)("util").TextEncoder:TextEncoder;let cachedTextEncoder=new lTextEncoder("utf-8");const encodeString="function"==typeof cachedTextEncoder.encodeInto?function(e,t){return cachedTextEncoder.encodeInto(e,t)}:function(e,t){const n=cachedTextEncoder.encode(e);return t.set(n),{read:e.length,written:n.length}};function passStringToWasm0(e,t,n){if(void 0===n){const n=cachedTextEncoder.encode(e),r=t(n.length,1)>>>0;return getUint8ArrayMemory0().subarray(r,r+n.length).set(n),WASM_VECTOR_LEN=n.length,r}let r=e.length,a=t(r,1)>>>0;const o=getUint8ArrayMemory0();let i=0;for(;i<r;i++){const t=e.charCodeAt(i);if(t>127)break;o[a+i]=t}if(i!==r){0!==i&&(e=e.slice(i)),a=n(a,r,r=i+3*e.length,1)>>>0;const t=getUint8ArrayMemory0().subarray(a+i,a+r);i+=encodeString(e,t).written,a=n(a,r,i,1)>>>0}return WASM_VECTOR_LEN=i,a}function isLikeNone(e){return null==e}let cachedDataViewMemory0=null;function getDataViewMemory0(){return(null===cachedDataViewMemory0||!0===cachedDataViewMemory0.buffer.detached||void 0===cachedDataViewMemory0.buffer.detached&&cachedDataViewMemory0.buffer!==wasm.memory.buffer)&&(cachedDataViewMemory0=new DataView(wasm.memory.buffer)),cachedDataViewMemory0}let cachedUint32ArrayMemory0=null;function getUint32ArrayMemory0(){return null!==cachedUint32ArrayMemory0&&0!==cachedUint32ArrayMemory0.byteLength||(cachedUint32ArrayMemory0=new Uint32Array(wasm.memory.buffer)),cachedUint32ArrayMemory0}function getArrayU32FromWasm0(e,t){return e>>>=0,getUint32ArrayMemory0().subarray(e/4,e/4+t)}function passArray8ToWasm0(e,t){const n=t(1*e.length,1)>>>0;return getUint8ArrayMemory0().set(e,n/1),WASM_VECTOR_LEN=e.length,n}function passArray32ToWasm0(e,t){const n=t(4*e.length,4)>>>0;return getUint32ArrayMemory0().set(e,n/4),WASM_VECTOR_LEN=e.length,n}function getArrayU8FromWasm0(e,t){return e>>>=0,getUint8ArrayMemory0().subarray(e/1,e/1+t)}const TiktokenFinalization="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((e=>wasm.__wbg_tiktoken_free(e>>>0,1)));export class Tiktoken{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,TiktokenFinalization.unregister(this),e}free(){if(null==wasm)throw new Error("tiktoken: WASM binary has not been propery initialized.");const e=this.__destroy_into_raw();wasm.__wbg_tiktoken_free(e,0)}constructor(e,t,n){if(null==wasm)throw new Error("tiktoken: WASM binary has not been propery initialized.");const r=passStringToWasm0(e,wasm.__wbindgen_export_1,wasm.__wbindgen_export_2),a=WASM_VECTOR_LEN,o=passStringToWasm0(n,wasm.__wbindgen_export_1,wasm.__wbindgen_export_2),i=WASM_VECTOR_LEN,_=wasm.tiktoken_new(r,a,addHeapObject(t),o,i);return this.__wbg_ptr=_>>>0,TiktokenFinalization.register(this,this.__wbg_ptr,this),this}get name(){try{const n=wasm.__wbindgen_add_to_stack_pointer(-16);wasm.tiktoken_name(n,this.__wbg_ptr);var e=getDataViewMemory0().getInt32(n+0,!0),t=getDataViewMemory0().getInt32(n+4,!0);let r;return 0!==e&&(r=getStringFromWasm0(e,t).slice(),wasm.__wbindgen_export_3(e,1*t,1)),r}finally{wasm.__wbindgen_add_to_stack_pointer(16)}}encode(e,t,n){if(null==wasm)throw new Error("tiktoken: WASM binary has not been propery initialized.");try{const _=wasm.__wbindgen_add_to_stack_pointer(-16),s=passStringToWasm0(e,wasm.__wbindgen_export_1,wasm.__wbindgen_export_2),d=WASM_VECTOR_LEN;wasm.tiktoken_encode(_,this.__wbg_ptr,s,d,addHeapObject(t),addHeapObject(n));var r=getDataViewMemory0().getInt32(_+0,!0),a=getDataViewMemory0().getInt32(_+4,!0),o=getDataViewMemory0().getInt32(_+8,!0);if(getDataViewMemory0().getInt32(_+12,!0))throw takeObject(o);var i=getArrayU32FromWasm0(r,a).slice();return wasm.__wbindgen_export_3(r,4*a,4),i}finally{wasm.__wbindgen_add_to_stack_pointer(16)}}encode_ordinary(e){if(null==wasm)throw new Error("tiktoken: WASM binary has not been propery initialized.");try{const a=wasm.__wbindgen_add_to_stack_pointer(-16),o=passStringToWasm0(e,wasm.__wbindgen_export_1,wasm.__wbindgen_export_2),i=WASM_VECTOR_LEN;wasm.tiktoken_encode_ordinary(a,this.__wbg_ptr,o,i);var t=getDataViewMemory0().getInt32(a+0,!0),n=getDataViewMemory0().getInt32(a+4,!0),r=getArrayU32FromWasm0(t,n).slice();return wasm.__wbindgen_export_3(t,4*n,4),r}finally{wasm.__wbindgen_add_to_stack_pointer(16)}}encode_with_unstable(e,t,n){if(null==wasm)throw new Error("tiktoken: WASM binary has not been propery initialized.");try{const o=wasm.__wbindgen_add_to_stack_pointer(-16),i=passStringToWasm0(e,wasm.__wbindgen_export_1,wasm.__wbindgen_export_2),_=WASM_VECTOR_LEN;wasm.tiktoken_encode_with_unstable(o,this.__wbg_ptr,i,_,addHeapObject(t),addHeapObject(n));var r=getDataViewMemory0().getInt32(o+0,!0),a=getDataViewMemory0().getInt32(o+4,!0);if(getDataViewMemory0().getInt32(o+8,!0))throw takeObject(a);return takeObject(r)}finally{wasm.__wbindgen_add_to_stack_pointer(16)}}encode_single_token(e){if(null==wasm)throw new Error("tiktoken: WASM binary has not been propery initialized.");const t=passArray8ToWasm0(e,wasm.__wbindgen_export_1),n=WASM_VECTOR_LEN;return wasm.tiktoken_encode_single_token(this.__wbg_ptr,t,n)>>>0}decode(e){if(null==wasm)throw new Error("tiktoken: WASM binary has not been propery initialized.");try{const a=wasm.__wbindgen_add_to_stack_pointer(-16),o=passArray32ToWasm0(e,wasm.__wbindgen_export_1),i=WASM_VECTOR_LEN;wasm.tiktoken_decode(a,this.__wbg_ptr,o,i);var t=getDataViewMemory0().getInt32(a+0,!0),n=getDataViewMemory0().getInt32(a+4,!0),r=getArrayU8FromWasm0(t,n).slice();return wasm.__wbindgen_export_3(t,1*n,1),r}finally{wasm.__wbindgen_add_to_stack_pointer(16)}}decode_single_token_bytes(e){if(null==wasm)throw new Error("tiktoken: WASM binary has not been propery initialized.");try{const a=wasm.__wbindgen_add_to_stack_pointer(-16);wasm.tiktoken_decode_single_token_bytes(a,this.__wbg_ptr,e);var t=getDataViewMemory0().getInt32(a+0,!0),n=getDataViewMemory0().getInt32(a+4,!0),r=getArrayU8FromWasm0(t,n).slice();return wasm.__wbindgen_export_3(t,1*n,1),r}finally{wasm.__wbindgen_add_to_stack_pointer(16)}}token_byte_values(){if(null==wasm)throw new Error("tiktoken: WASM binary has not been propery initialized.");return takeObject(wasm.tiktoken_token_byte_values(this.__wbg_ptr))}}export function __wbg_parse_def2e24ef1252aff(){return handleError((function(e,t){return addHeapObject(JSON.parse(getStringFromWasm0(e,t)))}),arguments)}export function __wbg_stringify_f7ed6987935b4a24(){return handleError((function(e){return addHeapObject(JSON.stringify(getObject(e)))}),arguments)}export function __wbindgen_error_new(e,t){return addHeapObject(new Error(getStringFromWasm0(e,t)))}export function __wbindgen_is_undefined(e){return void 0===getObject(e)}export function __wbindgen_object_drop_ref(e){return takeObject(e)}export function __wbindgen_string_get(e,t){if(null==wasm)throw new Error("tiktoken: WASM binary has not been propery initialized.");const n=getObject(t),r="string"==typeof n?n:void 0;var a=isLikeNone(r)?0:passStringToWasm0(r,wasm.__wbindgen_export_1,wasm.__wbindgen_export_2),o=WASM_VECTOR_LEN;getDataViewMemory0().setInt32(e+4,o,!0),getDataViewMemory0().setInt32(e+0,a,!0)}export function __wbindgen_throw(e,t){throw new Error(getStringFromWasm0(e,t))}
//# sourceMappingURL=/sm/9d58c3248f8db47e836f64c2defbd5575c8eb1cadf5a64a03f4709cbf8b84a9f.map

